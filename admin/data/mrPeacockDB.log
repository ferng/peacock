/*C2*/SET SCHEMA PUBLIC
 DROP TABLE APP_SCHEMA.COMMS_MSGDEST
 DROP TABLE APP_SCHEMA.ENDPOINT
 DROP TABLE APP_SCHEMA.COMMS_STORE
 DROP TABLE APP_SCHEMA.MSISDN
 DROP TABLE APP_SCHEMA.MSG_LOG
 DROP TABLE APP_SCHEMA.CUSTOMER
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
 CREATE TABLE APP_SCHEMA.CUSTOMER ( CUST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, CUST_ORG_CUST_ID VARCHAR(10) NOT NULL, CUST_ORG_ID VARCHAR(10) NOT NULL, CUST_STATUS VARCHAR(10) NOT NULL, CUST_FNAME VARCHAR(20) NOT NULL, CUST_SNAME VARCHAR(20) NOT NULL, CUST_DOB DATE NOT NULL, CUST_START_DATE DATE NOT NULL, CUST_END_DATE DATE NOT NULL,  CONSTRAINT CUST_ID_CONS PRIMARY KEY (CUST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.CUSTOMER TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.CUSTOMER ADD FOREIGN KEY(CUST_ORG_ID) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSG_LOG ( MSG_LOG_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSG_ID VARCHAR(40) NOT NULL, MSG_DATETIME TIMESTAMP NOT NULL, MSG_STATUS VARCHAR(10) NOT NULL, MSG_SOURCE_ORG VARCHAR(10) NOT NULL, MSG_DEST_ORG VARCHAR(10) NOT NULL, MSG_ERROR VARCHAR(60) NOT NULL,  CONSTRAINT MSG_LOG_ID_CONS PRIMARY KEY (MSG_LOG_ID), CONSTRAINT MSG_ID_CONS UNIQUE (MSG_ID), )
 GRANT SELECT, INSERT, UPDATE, DELETE ON APP_SCHEMA.MSG_LOG TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_SOURCE_ORG) REFERENCES ORGS (ORG_CODE)
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_DEST_ORG) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSISDN ( MSISDN_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSISDN_CUST_ID INTEGER NOT NULL, MSISDN VARCHAR(20) NOT NULL, MSISDN_PW VARCHAR(10) NOT NULL, MSISDN_STATUS VARCHAR(10) NOT NULL,  CONSTRAINT MSISDN_ID_CONS PRIMARY KEY (MSISDN_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.MSISDN TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSISDN ADD FOREIGN KEY(MSISDN_CUST_ID) REFERENCES CUSTOMER (CUST_ID)
  CREATE TABLE APP_SCHEMA.COMMS_STORE ( COMMS_STORE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_STORE_LOCATION VARCHAR(255) NOT NULL, COMMS_STORE_PASSWORD VARCHAR(255) NOT NULL, COMMS_STORE_ALIAS VARCHAR(255),  CONSTRAINT COMMS_STORE_ID_CONS PRIMARY KEY (COMMS_STORE_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_STORE TO MR_PEACOCK_APP
  CREATE TABLE APP_SCHEMA.ENDPOINT ( ENDPOINT_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, ENDPOINT_URL VARCHAR(255) NOT NULL, ENDPOINT_SECURE VARCHAR(40) NOT NULL, ENDPOINT_KEYSTORE INTEGER NOT NULL, ENDPOINT_TRUSTSTORE INTEGER NOT NULL,  CONSTRAINT ENDPOINT_ID_CONS PRIMARY KEY (ENDPOINT_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.ENDPOINT TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_KEYSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_TRUSTSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
  CREATE TABLE APP_SCHEMA.COMMS_MSGDEST ( COMMS_MSGDEST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_MSGDEST_ORG VARCHAR(10) NOT NULL, COMMS_MSGDEST_MSG_TYPE VARCHAR(65) NOT NULL, ENDPOINT_ID INTEGER NOT NULL,  CONSTRAINT COMMS_MSGDEST_ID_CONS PRIMARY KEY (COMMS_MSGDEST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_MSGDEST TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.COMMS_MSGDEST ADD FOREIGN KEY(COMMS_MSGDEST_ORG) REFERENCES ORGS (ORG_CODE)
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
 DROP TABLE APP_SCHEMA.COMMS_MSGDEST
 DROP TABLE APP_SCHEMA.ENDPOINT
 DROP TABLE APP_SCHEMA.COMMS_STORE
 DROP TABLE APP_SCHEMA.MSISDN
 DROP TABLE APP_SCHEMA.MSG_LOG
 DROP TABLE APP_SCHEMA.CUSTOMER
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
 CREATE TABLE APP_SCHEMA.CUSTOMER ( CUST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, CUST_ORG_CUST_ID VARCHAR(10) NOT NULL, CUST_ORG_ID VARCHAR(10) NOT NULL, CUST_STATUS VARCHAR(10) NOT NULL, CUST_FNAME VARCHAR(20) NOT NULL, CUST_SNAME VARCHAR(20) NOT NULL, CUST_DOB DATE NOT NULL, CUST_START_DATE DATE NOT NULL, CUST_END_DATE DATE NOT NULL,  CONSTRAINT CUST_ID_CONS PRIMARY KEY (CUST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.CUSTOMER TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.CUSTOMER ADD FOREIGN KEY(CUST_ORG_ID) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSG_LOG ( MSG_LOG_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSG_ID VARCHAR(40) NOT NULL, MSG_DATETIME TIMESTAMP NOT NULL, MSG_STATUS VARCHAR(10) NOT NULL, MSG_SOURCE_ORG VARCHAR(10) NOT NULL, MSG_DEST_ORG VARCHAR(10) NOT NULL, MSG_ERROR VARCHAR(60) NOT NULL,  CONSTRAINT MSG_LOG_ID_CONS PRIMARY KEY (MSG_LOG_ID), CONSTRAINT MSG_ID_CONS UNIQUE (MSG_ID), )
 GRANT SELECT, INSERT, UPDATE, DELETE ON APP_SCHEMA.MSG_LOG TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_SOURCE_ORG) REFERENCES ORGS (ORG_CODE)
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_DEST_ORG) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSISDN ( MSISDN_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSISDN_CUST_ID INTEGER NOT NULL, MSISDN VARCHAR(20) NOT NULL, MSISDN_PW VARCHAR(10) NOT NULL, MSISDN_STATUS VARCHAR(10) NOT NULL,  CONSTRAINT MSISDN_ID_CONS PRIMARY KEY (MSISDN_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.MSISDN TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSISDN ADD FOREIGN KEY(MSISDN_CUST_ID) REFERENCES CUSTOMER (CUST_ID)
  CREATE TABLE APP_SCHEMA.COMMS_STORE ( COMMS_STORE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_STORE_LOCATION VARCHAR(255) NOT NULL, COMMS_STORE_PASSWORD VARCHAR(255) NOT NULL, COMMS_STORE_ALIAS VARCHAR(255),  CONSTRAINT COMMS_STORE_ID_CONS PRIMARY KEY (COMMS_STORE_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_STORE TO MR_PEACOCK_APP
  CREATE TABLE APP_SCHEMA.ENDPOINT ( ENDPOINT_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, ENDPOINT_URL VARCHAR(255) NOT NULL, ENDPOINT_SECURE VARCHAR(40) NOT NULL, ENDPOINT_KEYSTORE INTEGER NOT NULL, ENDPOINT_TRUSTSTORE INTEGER NOT NULL,  CONSTRAINT ENDPOINT_ID_CONS PRIMARY KEY (ENDPOINT_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.ENDPOINT TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_KEYSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_TRUSTSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
  CREATE TABLE APP_SCHEMA.COMMS_MSGDEST ( COMMS_MSGDEST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_MSGDEST_ORG VARCHAR(10) NOT NULL, COMMS_MSGDEST_MSG_TYPE VARCHAR(65) NOT NULL, COMMS_MSGDEST_ENDPOINT INTEGER NOT NULL,  CONSTRAINT COMMS_MSGDEST_ID_CONS PRIMARY KEY (COMMS_MSGDEST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_MSGDEST TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.COMMS_MSGDEST ADD FOREIGN KEY(COMMS_MSGDEST_ORG) REFERENCES ORGS (ORG_CODE)
 ALTER TABLE APP_SCHEMA.COMMS_MSGDEST ADD FOREIGN KEY(COMMS_MSGDEST_ENDPOINT) REFERENCES ENDPOINT (ENDPOINT_ID)
DISCONNECT
/*C7*/SET SCHEMA APP_SCHEMA
INSERT INTO COMMS_STORE VALUES(1001,'conf/stores/intToSimi/client_keystore.jks','letmein',NULL)
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/INSERT INTO COMMS_STORE VALUES(1002,'conf/stores/intToSimi/client_cacerts.jks','letmein',NULL)
INSERT INTO ENDPOINT VALUES(1001,'http://localhost/myBankSimmi','TRUE',1001,1002)
INSERT INTO COMMS_MSGDEST VALUES(1001,'MYBNK','regRequestValidation',1001)
COMMIT
SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
 DROP TABLE APP_SCHEMA.COMMS_MSGDEST
 DROP TABLE APP_SCHEMA.ENDPOINT
 DROP TABLE APP_SCHEMA.COMMS_STORE
 DROP TABLE APP_SCHEMA.MSISDN
 DROP TABLE APP_SCHEMA.MSG_LOG
 DROP TABLE APP_SCHEMA.CUSTOMER
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
 CREATE TABLE APP_SCHEMA.CUSTOMER ( CUST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, CUST_ORG_CUST_ID VARCHAR(10) NOT NULL, CUST_ORG_ID VARCHAR(10) NOT NULL, CUST_STATUS VARCHAR(10) NOT NULL, CUST_FNAME VARCHAR(20) NOT NULL, CUST_SNAME VARCHAR(20) NOT NULL, CUST_DOB DATE NOT NULL, CUST_START_DATE DATE NOT NULL, CUST_END_DATE DATE NOT NULL,  CONSTRAINT CUST_ID_CONS PRIMARY KEY (CUST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.CUSTOMER TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.CUSTOMER ADD FOREIGN KEY(CUST_ORG_ID) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSG_LOG ( MSG_LOG_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSG_ID VARCHAR(40) NOT NULL, MSG_DATETIME TIMESTAMP NOT NULL, MSG_STATUS VARCHAR(10) NOT NULL, MSG_SOURCE_ORG VARCHAR(10) NOT NULL, MSG_DEST_ORG VARCHAR(10) NOT NULL, MSG_ERROR VARCHAR(60) NOT NULL,  CONSTRAINT MSG_LOG_ID_CONS PRIMARY KEY (MSG_LOG_ID), CONSTRAINT MSG_ID_CONS UNIQUE (MSG_ID), )
 GRANT SELECT, INSERT, UPDATE, DELETE ON APP_SCHEMA.MSG_LOG TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_SOURCE_ORG) REFERENCES ORGS (ORG_CODE)
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_DEST_ORG) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSISDN ( MSISDN_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSISDN_CUST_ID INTEGER NOT NULL, MSISDN VARCHAR(20) NOT NULL, MSISDN_PW VARCHAR(10) NOT NULL, MSISDN_STATUS VARCHAR(10) NOT NULL,  CONSTRAINT MSISDN_ID_CONS PRIMARY KEY (MSISDN_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.MSISDN TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSISDN ADD FOREIGN KEY(MSISDN_CUST_ID) REFERENCES CUSTOMER (CUST_ID)
  CREATE TABLE APP_SCHEMA.COMMS_STORE ( COMMS_STORE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_STORE_LOCATION VARCHAR(255) NOT NULL, COMMS_STORE_PASSWORD VARCHAR(255) NOT NULL, COMMS_STORE_ALIAS VARCHAR(255),  CONSTRAINT COMMS_STORE_ID_CONS PRIMARY KEY (COMMS_STORE_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_STORE TO MR_PEACOCK_APP
  CREATE TABLE APP_SCHEMA.ENDPOINT ( ENDPOINT_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, ENDPOINT_URL VARCHAR(255) NOT NULL, ENDPOINT_SECURE VARCHAR(40) NOT NULL, ENDPOINT_KEYSTORE INTEGER NOT NULL, ENDPOINT_TRUSTSTORE INTEGER NOT NULL,  CONSTRAINT ENDPOINT_ID_CONS PRIMARY KEY (ENDPOINT_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.ENDPOINT TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_KEYSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_TRUSTSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
  CREATE TABLE APP_SCHEMA.COMMS_MSGDEST ( COMMS_MSGDEST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_MSGDEST_ORG VARCHAR(10) NOT NULL, COMMS_MSGDEST_MSG_TYPE VARCHAR(65) NOT NULL, COMMS_MSGDEST_ENDPOINT INTEGER NOT NULL,  CONSTRAINT COMMS_MSGDEST_ID_CONS PRIMARY KEY (COMMS_MSGDEST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_MSGDEST TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.COMMS_MSGDEST ADD FOREIGN KEY(COMMS_MSGDEST_ORG) REFERENCES ORGS (ORG_CODE)
 ALTER TABLE APP_SCHEMA.COMMS_MSGDEST ADD FOREIGN KEY(COMMS_MSGDEST_ENDPOINT) REFERENCES ENDPOINT (ENDPOINT_ID)
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA APP_SCHEMA
INSERT INTO COMMS_STORE VALUES(1001,'conf/stores/intToSimi/client_keystore.jks','letmein',NULL)
INSERT INTO COMMS_STORE VALUES(1002,'conf/stores/intToSimi/client_cacerts.jks','letmein',NULL)
INSERT INTO ENDPOINT VALUES(1001,'http://localhost/myBankSimmi','TRUE',1001,1002)
INSERT INTO COMMS_MSGDEST VALUES(1001,'MYBNK','regRequestValidation',1001)
COMMIT
SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
 DROP TABLE APP_SCHEMA.COMMS_MSGDEST
 DROP TABLE APP_SCHEMA.ENDPOINT
 DROP TABLE APP_SCHEMA.COMMS_STORE
 DROP TABLE APP_SCHEMA.MSISDN
 DROP TABLE APP_SCHEMA.MSG_LOG
 DROP TABLE APP_SCHEMA.CUSTOMER
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
 CREATE TABLE APP_SCHEMA.CUSTOMER ( CUST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, CUST_ORG_CUST_ID VARCHAR(10) NOT NULL, CUST_ORG_ID VARCHAR(10) NOT NULL, CUST_STATUS VARCHAR(10) NOT NULL, CUST_FNAME VARCHAR(20) NOT NULL, CUST_SNAME VARCHAR(20) NOT NULL, CUST_DOB DATE NOT NULL, CUST_START_DATE DATE NOT NULL, CUST_END_DATE DATE NOT NULL,  CONSTRAINT CUST_ID_CONS PRIMARY KEY (CUST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.CUSTOMER TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.CUSTOMER ADD FOREIGN KEY(CUST_ORG_ID) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSG_LOG ( MSG_LOG_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSG_ID VARCHAR(40) NOT NULL, MSG_DATETIME TIMESTAMP NOT NULL, MSG_STATUS VARCHAR(10) NOT NULL, MSG_SOURCE_ORG VARCHAR(10) NOT NULL, MSG_DEST_ORG VARCHAR(10) NOT NULL, MSG_ERROR VARCHAR(60) NOT NULL,  CONSTRAINT MSG_LOG_ID_CONS PRIMARY KEY (MSG_LOG_ID), CONSTRAINT MSG_ID_CONS UNIQUE (MSG_ID), )
 GRANT SELECT, INSERT, UPDATE, DELETE ON APP_SCHEMA.MSG_LOG TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_SOURCE_ORG) REFERENCES ORGS (ORG_CODE)
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_DEST_ORG) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSISDN ( MSISDN_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSISDN_CUST_ID INTEGER NOT NULL, MSISDN VARCHAR(20) NOT NULL, MSISDN_PW VARCHAR(10) NOT NULL, MSISDN_STATUS VARCHAR(10) NOT NULL,  CONSTRAINT MSISDN_ID_CONS PRIMARY KEY (MSISDN_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.MSISDN TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSISDN ADD FOREIGN KEY(MSISDN_CUST_ID) REFERENCES CUSTOMER (CUST_ID)
  CREATE TABLE APP_SCHEMA.COMMS_STORE ( COMMS_STORE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_STORE_LOCATION VARCHAR(255) NOT NULL, COMMS_STORE_PASSWORD VARCHAR(255) NOT NULL, COMMS_STORE_ALIAS VARCHAR(255),  CONSTRAINT COMMS_STORE_ID_CONS PRIMARY KEY (COMMS_STORE_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_STORE TO MR_PEACOCK_APP
  CREATE TABLE APP_SCHEMA.ENDPOINT ( ENDPOINT_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, ENDPOINT_URL VARCHAR(255) NOT NULL, ENDPOINT_SECURE VARCHAR(40) NOT NULL, ENDPOINT_KEYSTORE INTEGER NOT NULL, ENDPOINT_TRUSTSTORE INTEGER NOT NULL,  CONSTRAINT ENDPOINT_ID_CONS PRIMARY KEY (ENDPOINT_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.ENDPOINT TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_KEYSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_TRUSTSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
  CREATE TABLE APP_SCHEMA.COMMS_MSGDEST ( COMMS_MSGDEST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_MSGDEST_ORG VARCHAR(10) NOT NULL, COMMS_MSGDEST_MSG_TYPE VARCHAR(65) NOT NULL, COMMS_MSGDEST_ENDPOINT INTEGER NOT NULL,  CONSTRAINT COMMS_MSGDEST_ID_CONS PRIMARY KEY (COMMS_MSGDEST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_MSGDEST TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.COMMS_MSGDEST ADD FOREIGN KEY(COMMS_MSGDEST_ORG) REFERENCES ORGS (ORG_CODE)
 ALTER TABLE APP_SCHEMA.COMMS_MSGDEST ADD FOREIGN KEY(COMMS_MSGDEST_ENDPOINT) REFERENCES ENDPOINT (ENDPOINT_ID)
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA APP_SCHEMA
INSERT INTO COMMS_STORE VALUES(1001,'conf/stores/intToSimi/client_keystore.jks','letmein',NULL)
INSERT INTO COMMS_STORE VALUES(1002,'conf/stores/intToSimi/client_cacerts.jks','letmein',NULL)
INSERT INTO ENDPOINT VALUES(1001,'http://localhost/myBankSimmi','TRUE',1001,1002)
INSERT INTO COMMS_MSGDEST VALUES(1001,'MYBNK','regRequestValidation',1001)
COMMIT
SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
 DROP TABLE APP_SCHEMA.COMMS_MSGDEST
 DROP TABLE APP_SCHEMA.ENDPOINT
 DROP TABLE APP_SCHEMA.COMMS_STORE
 DROP TABLE APP_SCHEMA.MSISDN
 DROP TABLE APP_SCHEMA.MSG_LOG
 DROP TABLE APP_SCHEMA.CUSTOMER
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
 CREATE TABLE APP_SCHEMA.CUSTOMER ( CUST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, CUST_ORG_CUST_ID VARCHAR(10) NOT NULL, CUST_ORG_ID VARCHAR(10) NOT NULL, CUST_STATUS VARCHAR(10) NOT NULL, CUST_FNAME VARCHAR(20) NOT NULL, CUST_SNAME VARCHAR(20) NOT NULL, CUST_DOB DATE NOT NULL, CUST_START_DATE DATE NOT NULL, CUST_END_DATE DATE NOT NULL,  CONSTRAINT CUST_ID_CONS PRIMARY KEY (CUST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.CUSTOMER TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.CUSTOMER ADD FOREIGN KEY(CUST_ORG_ID) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSG_LOG ( MSG_LOG_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSG_ID VARCHAR(40) NOT NULL, MSG_DATETIME TIMESTAMP NOT NULL, MSG_STATUS VARCHAR(10) NOT NULL, MSG_SOURCE_ORG VARCHAR(10) NOT NULL, MSG_DEST_ORG VARCHAR(10) NOT NULL, MSG_ERROR VARCHAR(60) NOT NULL,  CONSTRAINT MSG_LOG_ID_CONS PRIMARY KEY (MSG_LOG_ID), CONSTRAINT MSG_ID_CONS UNIQUE (MSG_ID), )
 GRANT SELECT, INSERT, UPDATE, DELETE ON APP_SCHEMA.MSG_LOG TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_SOURCE_ORG) REFERENCES ORGS (ORG_CODE)
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_DEST_ORG) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSISDN ( MSISDN_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSISDN_CUST_ID INTEGER NOT NULL, MSISDN VARCHAR(20) NOT NULL, MSISDN_PW VARCHAR(10) NOT NULL, MSISDN_STATUS VARCHAR(10) NOT NULL,  CONSTRAINT MSISDN_ID_CONS PRIMARY KEY (MSISDN_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.MSISDN TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSISDN ADD FOREIGN KEY(MSISDN_CUST_ID) REFERENCES CUSTOMER (CUST_ID)
  CREATE TABLE APP_SCHEMA.COMMS_STORE ( COMMS_STORE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_STORE_LOCATION VARCHAR(255) NOT NULL, COMMS_STORE_PASSWORD VARCHAR(255) NOT NULL, COMMS_STORE_ALIAS VARCHAR(255),  CONSTRAINT COMMS_STORE_ID_CONS PRIMARY KEY (COMMS_STORE_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_STORE TO MR_PEACOCK_APP
  CREATE TABLE APP_SCHEMA.ENDPOINT ( ENDPOINT_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, ENDPOINT_URL VARCHAR(255) NOT NULL, ENDPOINT_SECURE VARCHAR(40) NOT NULL, ENDPOINT_KEYSTORE INTEGER NOT NULL, ENDPOINT_TRUSTSTORE INTEGER NOT NULL,  CONSTRAINT ENDPOINT_ID_CONS PRIMARY KEY (ENDPOINT_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.ENDPOINT TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_KEYSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_TRUSTSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
  CREATE TABLE APP_SCHEMA.COMMS_MSGDEST ( COMMS_MSGDEST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_MSGDEST_ORG VARCHAR(10) NOT NULL, COMMS_MSGDEST_MSG_TYPE VARCHAR(65) NOT NULL, COMMS_MSGDEST_ENDPOINT INTEGER NOT NULL,  CONSTRAINT COMMS_MSGDEST_ID_CONS PRIMARY KEY (COMMS_MSGDEST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_MSGDEST TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.COMMS_MSGDEST ADD FOREIGN KEY(COMMS_MSGDEST_ORG) REFERENCES ORGS (ORG_CODE)
 ALTER TABLE APP_SCHEMA.COMMS_MSGDEST ADD FOREIGN KEY(COMMS_MSGDEST_ENDPOINT) REFERENCES ENDPOINT (ENDPOINT_ID)
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA APP_SCHEMA
INSERT INTO COMMS_STORE VALUES(1001,'conf/stores/intToSimi/client_keystore.jks','letmein',NULL)
INSERT INTO COMMS_STORE VALUES(1002,'conf/stores/intToSimi/client_cacerts.jks','letmein',NULL)
INSERT INTO ENDPOINT VALUES(1001,'http://localhost/myBankSimmi','TRUE',1001,1002)
INSERT INTO COMMS_MSGDEST VALUES(1001,'MYBNK','regRequestValidation',1001)
COMMIT
SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
 DROP TABLE APP_SCHEMA.COMMS_MSGDEST
 DROP TABLE APP_SCHEMA.ENDPOINT
 DROP TABLE APP_SCHEMA.COMMS_STORE
 DROP TABLE APP_SCHEMA.MSISDN
 DROP TABLE APP_SCHEMA.MSG_LOG
 DROP TABLE APP_SCHEMA.CUSTOMER
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
 CREATE TABLE APP_SCHEMA.CUSTOMER ( CUST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, CUST_ORG_CUST_ID VARCHAR(10) NOT NULL, CUST_ORG_ID VARCHAR(10) NOT NULL, CUST_STATUS VARCHAR(10) NOT NULL, CUST_FNAME VARCHAR(20) NOT NULL, CUST_SNAME VARCHAR(20) NOT NULL, CUST_DOB DATE NOT NULL, CUST_START_DATE DATE NOT NULL, CUST_END_DATE DATE NOT NULL,  CONSTRAINT CUST_ID_CONS PRIMARY KEY (CUST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.CUSTOMER TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.CUSTOMER ADD FOREIGN KEY(CUST_ORG_ID) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSG_LOG ( MSG_LOG_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSG_ID VARCHAR(40) NOT NULL, MSG_DATETIME TIMESTAMP NOT NULL, MSG_STATUS VARCHAR(10) NOT NULL, MSG_SOURCE_ORG VARCHAR(10) NOT NULL, MSG_DEST_ORG VARCHAR(10) NOT NULL, MSG_ERROR VARCHAR(60) NOT NULL,  CONSTRAINT MSG_LOG_ID_CONS PRIMARY KEY (MSG_LOG_ID), CONSTRAINT MSG_ID_CONS UNIQUE (MSG_ID), )
 GRANT SELECT, INSERT, UPDATE, DELETE ON APP_SCHEMA.MSG_LOG TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_SOURCE_ORG) REFERENCES ORGS (ORG_CODE)
 ALTER TABLE APP_SCHEMA.MSG_LOG ADD FOREIGN KEY(MSG_DEST_ORG) REFERENCES ORGS (ORG_CODE)
  CREATE TABLE APP_SCHEMA.MSISDN ( MSISDN_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, MSISDN_CUST_ID INTEGER NOT NULL, MSISDN VARCHAR(20) NOT NULL, MSISDN_PW VARCHAR(10) NOT NULL, MSISDN_STATUS VARCHAR(10) NOT NULL,  CONSTRAINT MSISDN_ID_CONS PRIMARY KEY (MSISDN_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.MSISDN TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.MSISDN ADD FOREIGN KEY(MSISDN_CUST_ID) REFERENCES CUSTOMER (CUST_ID)
  CREATE TABLE APP_SCHEMA.COMMS_STORE ( COMMS_STORE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_STORE_LOCATION VARCHAR(255) NOT NULL, COMMS_STORE_PASSWORD VARCHAR(255) NOT NULL, COMMS_STORE_ALIAS VARCHAR(255),  CONSTRAINT COMMS_STORE_ID_CONS PRIMARY KEY (COMMS_STORE_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_STORE TO MR_PEACOCK_APP
  CREATE TABLE APP_SCHEMA.ENDPOINT ( ENDPOINT_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, ENDPOINT_URL VARCHAR(255) NOT NULL, ENDPOINT_SECURE VARCHAR(40) NOT NULL, ENDPOINT_KEYSTORE INTEGER NOT NULL, ENDPOINT_TRUSTSTORE INTEGER NOT NULL,  CONSTRAINT ENDPOINT_ID_CONS PRIMARY KEY (ENDPOINT_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.ENDPOINT TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_KEYSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
 ALTER TABLE APP_SCHEMA.ENDPOINT ADD FOREIGN KEY(ENDPOINT_TRUSTSTORE) REFERENCES COMMS_STORE (COMMS_STORE_ID)
  CREATE TABLE APP_SCHEMA.COMMS_MSGDEST ( COMMS_MSGDEST_ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1001) NOT NULL, COMMS_MSGDEST_ORG VARCHAR(10) NOT NULL, COMMS_MSGDEST_MSG_TYPE VARCHAR(65) NOT NULL, COMMS_MSGDEST_ENDPOINT INTEGER NOT NULL,  CONSTRAINT COMMS_MSGDEST_ID_CONS PRIMARY KEY (COMMS_MSGDEST_ID), )
 GRANT SELECT, INSERT, UPDATE ON APP_SCHEMA.COMMS_MSGDEST TO MR_PEACOCK_APP
 ALTER TABLE APP_SCHEMA.COMMS_MSGDEST ADD FOREIGN KEY(COMMS_MSGDEST_ORG) REFERENCES ORGS (ORG_CODE)
 ALTER TABLE APP_SCHEMA.COMMS_MSGDEST ADD FOREIGN KEY(COMMS_MSGDEST_ENDPOINT) REFERENCES ENDPOINT (ENDPOINT_ID)
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA APP_SCHEMA
INSERT INTO COMMS_STORE VALUES(1001,'conf/stores/intToSimi/client_keystore.jks','letmein',NULL)
INSERT INTO COMMS_STORE VALUES(1002,'conf/stores/intToSimi/client_cacerts.jks','letmein',NULL)
INSERT INTO ENDPOINT VALUES(1001,'http://localhost/myBankSimmi','TRUE',1001,1002)
INSERT INTO COMMS_MSGDEST VALUES(1001,'MYBNK','regRequestValidation',1001)
COMMIT
SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
